# ============================================================================
# Documentation Linting Workflow
# ============================================================================
# Runs only on documentation changes (markdown files)
# Lightweight - no build, no deploy, just markdown validation
# ============================================================================

name: ðŸ“ Docs Lint

on:
  push:
    branches:
      - main
    paths:
      - '**.md'
      - 'docs/**'
  
  pull_request:
    branches:
      - main
    paths:
      - '**.md'
      - 'docs/**'

jobs:
  markdown-lint:
    name: ðŸ“ Markdown Lint
    runs-on: ubuntu-latest
    
    steps:
      - name: ðŸ“¥ Checkout Repository
        uses: actions/checkout@v4

      - name: ðŸ“ Lint Markdown Files
        uses: DavidAnson/markdownlint-cli2-action@v18
        with:
          globs: '**/*.md'
          config: |
            {
              "default": true,
              "MD013": false,
              "MD033": false,
              "MD041": false,
              "MD024": { "siblings_only": true }
            }

      - name: ðŸ”— Check Links (Optional)
        uses: gaurav-nelson/github-action-markdown-link-check@v1
        with:
          use-quiet-mode: 'yes'
          config-file: '.github/markdown-link-check.json'
        continue-on-error: true

      - name: ðŸ“Š Docs Summary
        if: always()
        run: |
          echo "## ðŸ“ Documentation Check" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "| Check | Status |" >> $GITHUB_STEP_SUMMARY
          echo "|-------|--------|" >> $GITHUB_STEP_SUMMARY
          echo "| Markdown Lint | âœ… Passed |" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "Only documentation files were changed - skipped full CI/CD pipeline." >> $GITHUB_STEP_SUMMARY
